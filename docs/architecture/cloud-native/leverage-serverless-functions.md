---
title: Aprovechamiento de funciones sin servidor
description: Aprovechamiento de Azure Functions sin servidor en aplicaciones nativas de la nube
ms.date: 06/30/2019
ms.openlocfilehash: 77ddef0eb8844ea1b55cd2fc5ec8aa12593c8631
ms.sourcegitcommit: 559fcfbe4871636494870a8b716bf7325df34ac5
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/30/2019
ms.locfileid: "73841748"
---
# <a name="leveraging-serverless-functions"></a><span data-ttu-id="8aedf-103">Aprovechamiento de funciones sin servidor</span><span class="sxs-lookup"><span data-stu-id="8aedf-103">Leveraging serverless functions</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="8aedf-104">En el espectro de administración de equipos y sistemas operativos completos para sacar provecho de las funcionalidades de la nube, el uso del servidor se encuentra en el extremo extremo en el que lo único que es responsable es el código y solo paga cuando se ejecuta el código.</span><span class="sxs-lookup"><span data-stu-id="8aedf-104">In the spectrum of managing full machines and operating systems to leveraging cloud capabilities, serverless lives at the extreme end where the only thing you're responsible for is your code, and you only pay when your code runs.</span></span> <span data-ttu-id="8aedf-105">Azure Functions proporciona una manera de crear funcionalidades sin servidor en las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="8aedf-105">Azure Functions provides a way to build serverless capabilities into your applications.</span></span>

## <a name="what-is-serverless"></a><span data-ttu-id="8aedf-106">¿Qué es sin servidor?</span><span class="sxs-lookup"><span data-stu-id="8aedf-106">What is serverless?</span></span>

<span data-ttu-id="8aedf-107">La informática sin servidor no significa que no haya ningún servidor implicado en la ejecución de la aplicación; el código todavía se ejecuta en un servidor en algún lugar.</span><span class="sxs-lookup"><span data-stu-id="8aedf-107">Serverless computing doesn't mean there isn't a server involved in running your application - the code still runs on a server somewhere.</span></span> <span data-ttu-id="8aedf-108">La diferencia es que el equipo de desarrollo de aplicaciones ya no necesita preocuparse por la administración de la infraestructura de servidor.</span><span class="sxs-lookup"><span data-stu-id="8aedf-108">The distinction is that the application development team no longer needs to concern themselves with managing server infrastructure.</span></span> <span data-ttu-id="8aedf-109">Soluciones informáticas sin servidor como Azure Functions ayudar a los equipos a aumentar su productividad y permitir a las organizaciones optimizar sus recursos y centrarse en la entrega de soluciones.</span><span class="sxs-lookup"><span data-stu-id="8aedf-109">Serverless computing solutions like Azure Functions help teams increase their productivity and allow organizations to optimize their resources and focus on delivering solutions.</span></span>

<span data-ttu-id="8aedf-110">La informática sin servidor usa contenedores sin estado desencadenados por eventos para hospedar su aplicación o parte de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="8aedf-110">Serverless computing uses event-triggered stateless containers to host your application or part of your application.</span></span> <span data-ttu-id="8aedf-111">Las plataformas sin servidor se pueden escalar horizontalmente y en para satisfacer la demanda según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="8aedf-111">Serverless platforms can scale out and in to meet demand as-needed.</span></span> <span data-ttu-id="8aedf-112">Las plataformas como Azure Functions tienen acceso directo sencillo a otros servicios de Azure, como colas, eventos y almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="8aedf-112">Platforms like Azure Functions have easy direct access to other Azure services like queues, events, and storage.</span></span>

## <a name="what-challenges-are-solved-by-serverless"></a><span data-ttu-id="8aedf-113">¿Qué desafíos resuelve sin servidor?</span><span class="sxs-lookup"><span data-stu-id="8aedf-113">What challenges are solved by serverless?</span></span>

<span data-ttu-id="8aedf-114">Sin servidor es la abstracción definitiva de la ejecución de su propio hardware.</span><span class="sxs-lookup"><span data-stu-id="8aedf-114">Serverless is the ultimate abstraction away from running your own hardware.</span></span> <span data-ttu-id="8aedf-115">Los desarrolladores pueden centrarse exclusivamente en la escritura de código para resolver problemas empresariales, sin preocuparse por cualquiera de las siguientes tareas que podrían haber sido necesarias al hospedar sus propios servidores:</span><span class="sxs-lookup"><span data-stu-id="8aedf-115">Developers can focus exclusively on writing code to solve business problems, without concern for any of the following tasks that might have been necessary when hosting your own servers:</span></span>

- <span data-ttu-id="8aedf-116">Comprar máquinas y licencias de software</span><span class="sxs-lookup"><span data-stu-id="8aedf-116">Purchasing machines and software licenses</span></span>
- <span data-ttu-id="8aedf-117">Alojamiento, protección, configuración y mantenimiento de los equipos y sus requisitos de red, alimentación y A/C</span><span class="sxs-lookup"><span data-stu-id="8aedf-117">Housing, securing, configuring, and maintaining the machines and their networking, power, and A/C requirements</span></span>
- <span data-ttu-id="8aedf-118">Revisión y actualización de sistemas operativos y software</span><span class="sxs-lookup"><span data-stu-id="8aedf-118">Patching and upgrading operating systems and software</span></span>
- <span data-ttu-id="8aedf-119">Configuración de servidores web o servicios de equipo para hospedar software de aplicación</span><span class="sxs-lookup"><span data-stu-id="8aedf-119">Configuring web servers or machine services to host application software</span></span>
- <span data-ttu-id="8aedf-120">Configuración de software de aplicaciones en su plataforma</span><span class="sxs-lookup"><span data-stu-id="8aedf-120">Configuring application software within its platform</span></span>

<span data-ttu-id="8aedf-121">Muchas empresas emplean docenas de miembros del personal y asignan grandes presupuestos para respaldar estos problemas de la infraestructura de hardware.</span><span class="sxs-lookup"><span data-stu-id="8aedf-121">Many companies employ dozens of staff members and allocate large budgets to support these hardware infrastructure concerns.</span></span> <span data-ttu-id="8aedf-122">Simplemente pasar a la nube elimina algunos de estos problemas: desplazar las aplicaciones hasta el modo sin servidor eliminará el resto.</span><span class="sxs-lookup"><span data-stu-id="8aedf-122">Simply moving to the cloud eliminates some of these concerns; shifting applications all the way to serverless will eliminate the rest.</span></span>

## <a name="what-scenarios-are-appropriate-for-serverless"></a><span data-ttu-id="8aedf-123">¿Qué escenarios son adecuados para sin servidor?</span><span class="sxs-lookup"><span data-stu-id="8aedf-123">What scenarios are appropriate for serverless?</span></span>

<span data-ttu-id="8aedf-124">Sin servidor usa funciones individuales de ejecución breve a las que se llama en respuesta a algún desencadenador.</span><span class="sxs-lookup"><span data-stu-id="8aedf-124">Serverless uses individual short-running functions that are called in response to some trigger.</span></span> <span data-ttu-id="8aedf-125">Esto hace que sean ideales para el procesamiento de tareas en segundo plano.</span><span class="sxs-lookup"><span data-stu-id="8aedf-125">This makes them ideal for processing background tasks.</span></span>

<span data-ttu-id="8aedf-126">Por ejemplo, es posible que una aplicación necesite enviar un correo electrónico como parte del procesamiento de una solicitud.</span><span class="sxs-lookup"><span data-stu-id="8aedf-126">For example, an application might need to send an email as part of processing a request.</span></span> <span data-ttu-id="8aedf-127">En lugar de enviar el correo electrónico como parte del control de la solicitud Web, los detalles del correo electrónico podrían colocarse en una cola y se podría usar una función de Azure para recoger el mensaje y enviar el correo electrónico.</span><span class="sxs-lookup"><span data-stu-id="8aedf-127">Instead of sending the email as part of handling the web request, the details of the email could be placed onto a queue and an Azure Function could be used to pick up the message and send the email.</span></span> <span data-ttu-id="8aedf-128">Muchas partes diferentes de la aplicación, o incluso de muchas aplicaciones, pueden aprovechar esta misma función de Azure, lo que proporciona un rendimiento y una escalabilidad mejorados para las aplicaciones y el uso de la [nivelación de carga basada en cola](https://docs.microsoft.com/azure/architecture/patterns/queue-based-load-leveling) para evitar cuellos de botella relacionados con el envío de los mensajes de correo electrónico.</span><span class="sxs-lookup"><span data-stu-id="8aedf-128">Many different parts of the application, or even many applications, could leverage this same Azure Function, providing improved performance and scalability for the applications and using [queue-based load leveling](https://docs.microsoft.com/azure/architecture/patterns/queue-based-load-leveling) to avoid bottlenecks related to sending the emails.</span></span>

<span data-ttu-id="8aedf-129">Aunque un [patrón de publicador o suscriptor](https://docs.microsoft.com/azure/architecture/patterns/publisher-subscriber) entre aplicaciones y Azure Functions es el patrón más común, son posibles otros patrones.</span><span class="sxs-lookup"><span data-stu-id="8aedf-129">Although a [Publisher/Subscriber pattern](https://docs.microsoft.com/azure/architecture/patterns/publisher-subscriber) between applications and Azure Functions is the most common pattern, other patterns are possible.</span></span> <span data-ttu-id="8aedf-130">Otros eventos pueden desencadenar Azure Functions, como los cambios realizados en Azure Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="8aedf-130">Azure Functions can be triggered by other events, such as changes to Azure Blob Storage.</span></span> <span data-ttu-id="8aedf-131">Una aplicación que admitía cargas de imágenes podría tener una función de Azure responsable de crear imágenes en miniatura o cambiar el tamaño de las imágenes cargadas a dimensiones coherentes u optimizar el tamaño de la imagen.</span><span class="sxs-lookup"><span data-stu-id="8aedf-131">An application that supported image uploads could have an Azure Function responsible for creating thumbnail images, or resizing uploaded images to consistent dimensions, or optimizing image size.</span></span> <span data-ttu-id="8aedf-132">Toda esta funcionalidad se puede desencadenar directamente mediante inserciones en Azure Blob Storage, manteniendo la complejidad y la carga de trabajo fuera de la propia aplicación.</span><span class="sxs-lookup"><span data-stu-id="8aedf-132">All of this functionality could be triggered directly by inserts to Azure Blob Storage, keeping the complexity and the workload out of the application itself.</span></span>

<span data-ttu-id="8aedf-133">Muchas aplicaciones tienen procesos de ejecución prolongada como parte de sus flujos de trabajo.</span><span class="sxs-lookup"><span data-stu-id="8aedf-133">Many applications have long-running processes as part of their workflows.</span></span> <span data-ttu-id="8aedf-134">A menudo, estas tareas se realizan como parte de la interacción del usuario con la aplicación, lo que obliga al usuario a esperar y afectar negativamente a su experiencia.</span><span class="sxs-lookup"><span data-stu-id="8aedf-134">Often these tasks are done as part of the user's interaction with the application, forcing the user to wait and negatively impacting their experience.</span></span> <span data-ttu-id="8aedf-135">La informática sin servidor proporciona una excelente manera de realizar tareas más lentas fuera del bucle de interacción del usuario, y estas tareas se pueden escalar fácilmente con la demanda sin necesidad de escalar toda la aplicación.</span><span class="sxs-lookup"><span data-stu-id="8aedf-135">Serverless computing provides a great way to perform slower tasks outside of the user interaction loop, and these tasks can easily scale with demand without requiring the entire application to scale.</span></span>

## <a name="when-should-you-avoid-serverless"></a><span data-ttu-id="8aedf-136">¿Cuándo debe evitarse el servidor?</span><span class="sxs-lookup"><span data-stu-id="8aedf-136">When should you avoid serverless?</span></span>

<span data-ttu-id="8aedf-137">La informática sin servidor se utiliza mejor para las tareas que no bloquean la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="8aedf-137">Serverless computing is best-used for tasks that don't block the user interface.</span></span> <span data-ttu-id="8aedf-138">Esto significa que no son ideales para hospedar aplicaciones web o API Web directamente.</span><span class="sxs-lookup"><span data-stu-id="8aedf-138">This means they're not ideal for hosting web applications or web APIs directly.</span></span> <span data-ttu-id="8aedf-139">La razón principal es que las soluciones sin servidor se aprovisionan y escalan a petición.</span><span class="sxs-lookup"><span data-stu-id="8aedf-139">The main reason for this is that serverless solutions are provisioned and scaled on demand.</span></span> <span data-ttu-id="8aedf-140">Cuando se necesita una nueva instancia de una función, a la que se hace referencia como *Inicio en frío*, se tarda en aprovisionar.</span><span class="sxs-lookup"><span data-stu-id="8aedf-140">When a new instance of a function is needed, referred to as a *cold start*, it takes time to provision.</span></span> <span data-ttu-id="8aedf-141">Este tiempo suele ser unos pocos segundos, pero puede ser más largo en función de una serie de factores.</span><span class="sxs-lookup"><span data-stu-id="8aedf-141">This time is typically a few seconds, but can be longer depending on a variety of factors.</span></span> <span data-ttu-id="8aedf-142">Una sola instancia se puede mantener activa indefinidamente (por ejemplo, mediante una solicitud periódica), pero el problema de inicio en frío permanece si el número de instancias necesita escalarse verticalmente.</span><span class="sxs-lookup"><span data-stu-id="8aedf-142">A single instance can often be kept alive indefinitely (for instance, by periodically making a request to it), but the cold start issue remains if the number of instances ever needs to scale up.</span></span>

<span data-ttu-id="8aedf-143">![en frío frente al inicio en caliente](./media/cold-start-warm-start.png)
**figura 3-10**.</span><span class="sxs-lookup"><span data-stu-id="8aedf-143">![Cold versus warm start](./media/cold-start-warm-start.png)
**Figure 3-10**.</span></span> <span data-ttu-id="8aedf-144">Inicio en frío frente a Inicio en caliente.</span><span class="sxs-lookup"><span data-stu-id="8aedf-144">Cold start versus warm start.</span></span>

<span data-ttu-id="8aedf-145">Si necesita evitar que el frío se inicie por completo, puede optar por cambiar de un [plan de consumo a un plan dedicado](https://azure.microsoft.com/blog/understanding-serverless-cold-start/).</span><span class="sxs-lookup"><span data-stu-id="8aedf-145">If you need to avoid cold starts entirely, you can choose to switch from a [consumption plan to a dedicated plan](https://azure.microsoft.com/blog/understanding-serverless-cold-start/).</span></span> <span data-ttu-id="8aedf-146">También puede [configurar una o varias instancias previamente preparadas](https://docs.microsoft.com/azure/azure-functions/functions-premium-plan#pre-warmed-instances) con el plan Premium, de modo que, cuando necesite agregar otra instancia, ya esté activa y lista para ir.</span><span class="sxs-lookup"><span data-stu-id="8aedf-146">You can also [configure one or more pre-warmed instances](https://docs.microsoft.com/azure/azure-functions/functions-premium-plan#pre-warmed-instances) with the premium plan so when you need to add another instance, it's already up and ready to go.</span></span> <span data-ttu-id="8aedf-147">Estas opciones pueden mitigar una de las principales preocupaciones asociadas a la informática sin servidor.</span><span class="sxs-lookup"><span data-stu-id="8aedf-147">These options can mitigate one of the key concerns associated with serverless computing.</span></span>

<span data-ttu-id="8aedf-148">Normalmente, también debe evitar el funcionamiento sin servidor para tareas de ejecución prolongada.</span><span class="sxs-lookup"><span data-stu-id="8aedf-148">You should also typically avoid serverless for long-running tasks.</span></span> <span data-ttu-id="8aedf-149">Son mejores para pequeñas piezas de trabajo que se pueden completar rápidamente.</span><span class="sxs-lookup"><span data-stu-id="8aedf-149">They're best for small pieces of work that can be completed quickly.</span></span> <span data-ttu-id="8aedf-150">La mayoría de las plataformas sin servidor requieren funciones individuales para completarse en unos minutos.</span><span class="sxs-lookup"><span data-stu-id="8aedf-150">Most serverless platforms require individual functions to complete within a few minutes.</span></span> <span data-ttu-id="8aedf-151">Azure Functions tiene como valor predeterminado una duración de tiempo de espera de 5 minutos (se puede configurar hasta 10 minutos).</span><span class="sxs-lookup"><span data-stu-id="8aedf-151">Azure Functions defaults to a 5-minute time-out duration (can be configured up to 10 minutes).</span></span> <span data-ttu-id="8aedf-152">El plan de Azure Functions Premium también puede mitigar este problema, establecer de forma predeterminada los tiempos de espera de 30 minutos y permitir que se configure un límite superior sin límite.</span><span class="sxs-lookup"><span data-stu-id="8aedf-152">The Azure Functions premium plan can mitigate this issue as well, defaulting time outs to 30 minutes and allowing an unbounded higher limit to be configured.</span></span>

<span data-ttu-id="8aedf-153">Por último, el uso de sin servidor para ciertas tareas dentro de la aplicación agrega complejidad.</span><span class="sxs-lookup"><span data-stu-id="8aedf-153">Finally, leveraging serverless for certain tasks within your application adds complexity.</span></span> <span data-ttu-id="8aedf-154">A menudo, es mejor diseñar la aplicación en una manera modular y de acoplamiento flexible en primer lugar y, a continuación, identificar si las ventajas que el servidor no puede ofrecer es el que merece la complejidad adicional.</span><span class="sxs-lookup"><span data-stu-id="8aedf-154">It's often best to architect your application in a modular, loosely coupled manner first, and then identify if there are benefits serverless would offer that make the additional complexity worthwhile.</span></span> <span data-ttu-id="8aedf-155">Muchas aplicaciones más pequeñas se ejecutarán perfectamente en una única implementación monolítica, sin necesidad de que la informática sin servidor de arquitectura de aplicación distribuida requiera.</span><span class="sxs-lookup"><span data-stu-id="8aedf-155">Many smaller applications will run perfectly well in a single monolithic deployment, without the need for the distributed application architecture serverless computing requires.</span></span>

## <a name="references"></a><span data-ttu-id="8aedf-156">Referencias</span><span class="sxs-lookup"><span data-stu-id="8aedf-156">References</span></span>

- [<span data-ttu-id="8aedf-157">Descripción del inicio en frío sin servidor</span><span class="sxs-lookup"><span data-stu-id="8aedf-157">Understanding serverless cold start</span></span>](https://azure.microsoft.com/blog/understanding-serverless-cold-start/)
- [<span data-ttu-id="8aedf-158">Instancias de Azure Functions precalentadas</span><span class="sxs-lookup"><span data-stu-id="8aedf-158">Pre-warmed Azure Functions instances</span></span>](https://docs.microsoft.com/azure/azure-functions/functions-premium-plan#pre-warmed-instances)
- [<span data-ttu-id="8aedf-159">Creación de una función en Linux con una imagen personalizada</span><span class="sxs-lookup"><span data-stu-id="8aedf-159">Create a function on Linux using a custom image</span></span>](https://docs.microsoft.com/azure/azure-functions/functions-create-function-linux-custom-image)

>[!div class="step-by-step"]
><span data-ttu-id="8aedf-160">[Anterior](leverage-containers-orchestrators.md)
>[Siguiente](combine-containers-serverless-approaches.md)</span><span class="sxs-lookup"><span data-stu-id="8aedf-160">[Previous](leverage-containers-orchestrators.md)
[Next](combine-containers-serverless-approaches.md)</span></span>
